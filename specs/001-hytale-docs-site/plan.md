# Implementation Plan: Hytale Documentation Site

**Branch**: `001-hytale-docs-site` | **Date**: 2026-01-15 | **Spec**: [Link](../specs/001-hytale-docs-site/spec.md)
**Input**: Feature specification from `specs/001-hytale-docs-site/spec.md`

## Summary

Create a static documentation site using Next.js 14, shadcn/ui, and `next-mdx-remote`. The site will parse local markdown files from the `docs` directory to generate a navigation sidebar and render content with syntax highlighting.

## Technical Context

**Language/Version**: TypeScript, Node.js 18+
**Framework**: Next.js 14 (App Router)
**UI Library**: shadcn/ui (Radix Primitives + Tailwind CSS)
**Markdown**: `next-mdx-remote` (HashiCorp) for rendering
**Styling**: Tailwind CSS
**Project Type**: Web Application (Single Repo: Source + Docs)
**Performance Goals**: Static export, fast navigation (<200ms)

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

- [x] **Code Quality**: Using standard Next.js patterns, ESLint, Prettier.
- [x] **Testing Standards**: Will include component tests (Jest/RTL) and E2E (Playwright) if requested (Plan focuses on MVP structure first).
- [x] **UX**: shadcn/ui ensures consistent design system; Responsive sidebar.
- [x] **Performance**: SSG (Static Site Generation) ensures optimal load times.

## Project Structure

### Documentation
```text
specs/001-hytale-docs-site/
├── plan.md
├── research.md
├── data-model.md
├── quickstart.md
└── tasks.md (generated by /speckit.tasks)
```

### Source Code
```text
src/
├── app/
│   ├── layout.tsx         # Root layout with SidebarProvider
│   ├── page.tsx           # Home page
│   ├── [slug]/            # Catch-all route for docs
│   │   └── page.tsx
│   └── globals.css
├── components/
│   ├── ui/                # shadcn components
│   ├── docs/
│   │   ├── sidebar.tsx    # Navigation tree
│   │   └── mdx-remote.tsx # MDX Renderer
│   └── theme-provider.tsx
├── lib/
│   ├── docs.ts            # File system walking & parsing logic
│   └── utils.ts
└── docs/                  # (Existing content source)
```

## Complexity Tracking

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| Custom FS walker | No CMS | `contentlayer` is unmaintained; raw access offers max control over `docs` folder structure |
| Client-side Sidebar state | Collapsible folders | Pure CSS :target hack insufficient for complex nested trees |

## Verification Plan

### Automated Tests
- **Lint**: `npm run lint`
- **Build**: `npm run build` (Ensures all docs are parseable and pages generate)

### Manual Verification
1. **Sidebar Navigation**:
   - Launch `npm run dev`
   - Verify `com/hypixel/hytale` exists in sidebar.
   - Click to expand -> verify children appear.
2. **MDX Rendering**:
   - Navigate to `Main.md`.
   - Verify H1 "Main" is rendered.
   - Verify Code blocks have basic styling.
3. **Mobile View**:
   - Resize browser to <768px.
   - Verify Sidebar collapses/hides.
   - Verify Hamburger menu toggles Sidebar.
